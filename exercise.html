<html>
  <body>
    <div id="container" style="display: flex; align-items: center"></div>
  </body>

  <script>
    const $container = document.querySelector("#container");

    const state = {
      data: [],
    };

    const fetchData = async () => {
      const response = await fetch(
        "https://jsonplaceholder.typicode.com/todos/4"
      );
      try {
        if (response.ok) {
          state.data = await response.json();
          console.log(state.data);
        } else {
          console.error(response);
        }
      } catch {
        console.error("error:", response);
      }
    };

    const generateTemplateHTML = (data) => {
      return `
        <h2> ${data.title} </h2>
        
      `;
    };

    const generateCheckBox = (data) => {
      const checkbox = document.createElement("input"); //!** creo uno un elemento all'interno del document 
      checkbox.type = "checkbox"; //!** do il tipo al checkbox
      checkbox.checked = data.completed; //!** richiamo la proprietÃ  checked che prende i dati in data.completed
      $container.appendChild(checkbox);
    };


    const renderHTML = () => {
      const HTML = generateTemplateHTML(state.data);
      $container.innerHTML = HTML;
    };

    const init = async () => {
      await fetchData();
      renderHTML();
      generateCheckBox(state.data);
    };

    init();
  </script>
</html>
